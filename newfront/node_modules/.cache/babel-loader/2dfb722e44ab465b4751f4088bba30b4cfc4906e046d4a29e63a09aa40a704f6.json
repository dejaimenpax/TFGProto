{"ast":null,"code":"import{Pie}from'react-chartjs-2';import'../styles/Profile/StatsPage.css';import{Chart as ChartJS,ArcElement,Tooltip,Legend}from'chart.js';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";ChartJS.register(ArcElement,Tooltip,Legend);var StatsPage=function StatsPage(_ref){var user=_ref.user;var calculateAverages=function calculateAverages(){var sum=0;var count=0;for(var i=0;i<user.averages.length;i++){if(user.submitted[i]>0){sum+=user.averages[i];count++;}}if(count>0){return(sum/count).toFixed(2);}else{return 0;}};var data=user?{exercises:{BloqueI:{submitted:user.submitted[0],scores:user.scores[0],averages:user.averages[0],correct:user.correct[0],incorrect:user.incorrect[0]},BloqueII:{submitted:user.submitted[1],scores:user.scores[1],averages:user.averages[1],correct:user.correct[1],incorrect:user.incorrect[1]},BloqueIII:{submitted:user.submitted[2],scores:user.scores[2],averages:user.averages[2],correct:user.correct[2],incorrect:user.incorrect[2]},BloqueIV:{submitted:user.submitted[3],scores:user.scores[3],averages:user.averages[3],correct:user.correct[3],incorrect:user.incorrect[3]}},total:{submitted:user.submitted[0]+user.submitted[1]+user.submitted[2]+user.submitted[3],scores:user.scores[0]+user.scores[1]+user.scores[2]+user.scores[3],averages:calculateAverages(),correct:user.correct[0]+user.correct[1]+user.correct[2]+user.correct[3],incorrect:user.incorrect[0]+user.incorrect[1]+user.incorrect[2]+user.incorrect[3]}}:null;var ExerciseStats=function ExerciseStats(_ref2){var data=_ref2.data;var submitted=data.submitted,scores=data.scores,averages=data.averages,correct=data.correct,incorrect=data.incorrect;var chartData={labels:['Correctos','Incorrectos'],datasets:[{data:[correct,incorrect],backgroundColor:['#4CAF50','#FF6384'],hoverBackgroundColor:['#4CAF50','#FF6384']}]};return/*#__PURE__*/_jsxs(\"div\",{className:\"exercise-stats\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-center\",style:{whiteSpace:\"nowrap\"},children:[\"Ejercicios entregados: \",submitted]}),/*#__PURE__*/_jsxs(\"h3\",{className:\"text-center\",style:{whiteSpace:\"nowrap\"},children:[\"Puntuaci\\xF3n total: \",scores]}),/*#__PURE__*/_jsxs(\"h3\",{className:\"text-center\",style:{whiteSpace:\"nowrap\"},children:[\"Nota media: \",averages]}),/*#__PURE__*/_jsx(Pie,{data:chartData,width:200,heigh:200})]});};var BlockStatsRow=function BlockStatsRow(_ref3){var data1=_ref3.data1,data2=_ref3.data2,title1=_ref3.title1,title2=_ref3.title2;return/*#__PURE__*/_jsxs(\"div\",{className:\"block-stats-row\",children:[/*#__PURE__*/_jsx(BlockStats,{data:data1,title:title1}),/*#__PURE__*/_jsx(BlockStats,{data:data2,title:title2})]});};var BlockStats=function BlockStats(_ref4){var data=_ref4.data,title=_ref4.title;var submitted=data.submitted,scores=data.scores,averages=data.averages,correct=data.correct,incorrect=data.incorrect;var chartData={labels:['Correctos','Incorrectos'],datasets:[{data:[correct,incorrect],backgroundColor:['#4CAF50','#FF6384'],hoverBackgroundColor:['#4CAF50','#FF6384']}]};return/*#__PURE__*/_jsxs(\"div\",{className:\"block-stats\",children:[/*#__PURE__*/_jsx(\"h3\",{children:title}),/*#__PURE__*/_jsxs(\"h4\",{children:[\"Ejercicios entregados: \",submitted]}),/*#__PURE__*/_jsxs(\"h4\",{children:[\"Puntuaci\\xF3n total: \",scores]}),/*#__PURE__*/_jsxs(\"h4\",{children:[\"Nota media: \",averages]}),/*#__PURE__*/_jsx(\"div\",{className:\"subpie\",children:/*#__PURE__*/_jsx(Pie,{data:chartData})})]});};return/*#__PURE__*/_jsxs(\"div\",{className:\"stats-page\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-center\",children:[\"Estad\\xEDsticas globales de \",user.email]}),user&&/*#__PURE__*/_jsx(ExerciseStats,{data:data.total})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"block-stats-container d-flex justify-content-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"block-stats-container-gray-container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center\",children:\"Estad\\xEDsticas por bloque\"}),user&&/*#__PURE__*/_jsx(BlockStatsRow,{data1:data.exercises.BloqueI,data2:data.exercises.BloqueII,title1:\"Bloque I\",title2:\"Bloque II\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"block-stats-container-gray-container\",children:user&&/*#__PURE__*/_jsx(BlockStatsRow,{data1:data.exercises.BloqueIII,data2:data.exercises.BloqueIV,title1:\"Bloque III\",title2:\"Bloque IV\"})})]})]});};export default StatsPage;","map":{"version":3,"names":["Pie","Chart","ChartJS","ArcElement","Tooltip","Legend","register","StatsPage","user","calculateAverages","sum","count","i","averages","length","submitted","toFixed","data","exercises","BloqueI","scores","correct","incorrect","BloqueII","BloqueIII","BloqueIV","total","ExerciseStats","chartData","labels","datasets","backgroundColor","hoverBackgroundColor","whiteSpace","BlockStatsRow","data1","data2","title1","title2","BlockStats","title","email"],"sources":["C:/Users/jaime/TFGProto/newfront/src/components/StatsPage.js"],"sourcesContent":["import { Pie } from 'react-chartjs-2';\r\nimport '../styles/Profile/StatsPage.css'\r\nimport { Chart as ChartJS, ArcElement, Tooltip, Legend } from 'chart.js';\r\n\r\nChartJS.register(ArcElement, Tooltip, Legend);\r\n\r\nconst StatsPage = ({user}) => {\r\n\r\n  const calculateAverages = () => {\r\n    let sum = 0;\r\n    let count = 0;\r\n\r\n    for (let i = 0; i < user.averages.length; i++) {\r\n      if (user.submitted[i] > 0) {\r\n        sum += user.averages[i];\r\n        count++;\r\n      }\r\n    }\r\n\r\n    if (count > 0) {\r\n      return (sum / count).toFixed(2);\r\n    } else {\r\n      return 0;\r\n    }\r\n  };\r\n\r\n  const data = user ? {\r\n    exercises: {\r\n      BloqueI: {\r\n        submitted: user.submitted[0],\r\n        scores: user.scores[0],\r\n        averages: user.averages[0],\r\n        correct: user.correct[0],\r\n        incorrect: user.incorrect[0],\r\n      },\r\n      BloqueII: {\r\n        submitted: user.submitted[1],\r\n        scores: user.scores[1],\r\n        averages: user.averages[1],\r\n        correct: user.correct[1],\r\n        incorrect: user.incorrect[1],\r\n      },\r\n      BloqueIII: {\r\n        submitted: user.submitted[2],\r\n        scores: user.scores[2],\r\n        averages: user.averages[2],\r\n        correct: user.correct[2],\r\n        incorrect: user.incorrect[2],\r\n      },\r\n      BloqueIV: {\r\n        submitted: user.submitted[3],\r\n        scores: user.scores[3],\r\n        averages: user.averages[3],\r\n        correct: user.correct[3],\r\n        incorrect: user.incorrect[3],\r\n      },\r\n    },\r\n    total: {\r\n      submitted: user.submitted[0] + user.submitted[1] + user.submitted[2] + user.submitted[3],\r\n      scores: user.scores[0] + user.scores[1] + user.scores[2] + user.scores[3],\r\n      averages: calculateAverages(),\r\n      correct: user.correct[0] + user.correct[1] + user.correct[2] + user.correct[3],\r\n      incorrect: user.incorrect[0] + user.incorrect[1] + user.incorrect[2] + user.incorrect[3],\r\n    },\r\n  } : null;\r\n\r\n  const ExerciseStats = ({ data }) => {\r\n    const { submitted, scores, averages, correct, incorrect } = data;\r\n\r\n    const chartData = {\r\n      labels: ['Correctos', 'Incorrectos'],\r\n      datasets: [\r\n        {\r\n          data: [correct, incorrect],\r\n          backgroundColor: ['#4CAF50', '#FF6384'],\r\n          hoverBackgroundColor: ['#4CAF50', '#FF6384'],\r\n        },\r\n      ],\r\n    };\r\n\r\n    return (\r\n      <div className=\"exercise-stats\">\r\n        <h3 className=\"text-center\"  style={{ whiteSpace: \"nowrap\" }}>Ejercicios entregados: {submitted}</h3>\r\n        <h3 className=\"text-center\"  style={{ whiteSpace: \"nowrap\" }}>Puntuación total: {scores}</h3>\r\n        <h3 className=\"text-center\" style={{ whiteSpace: \"nowrap\" }}>Nota media: {averages}</h3>\r\n        <Pie data={chartData} width={200} heigh={200}/>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const BlockStatsRow = ({ data1, data2, title1, title2 }) => {\r\n    return (\r\n      <div className=\"block-stats-row\">\r\n        <BlockStats data={data1} title={title1} />\r\n        <BlockStats data={data2} title={title2} />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const BlockStats = ({ data, title }) => {\r\n    const { submitted, scores, averages, correct, incorrect } = data;\r\n\r\n    const chartData = {\r\n      labels: ['Correctos', 'Incorrectos'],\r\n      datasets: [\r\n        {\r\n          data: [correct, incorrect],\r\n          backgroundColor: ['#4CAF50', '#FF6384'],\r\n          hoverBackgroundColor: ['#4CAF50', '#FF6384'],\r\n        },\r\n      ],\r\n    };\r\n\r\n    return (\r\n      <div className=\"block-stats\">\r\n        <h3>{title}</h3>\r\n        <h4>Ejercicios entregados: {submitted}</h4>\r\n        <h4>Puntuación total: {scores}</h4>\r\n        <h4>Nota media: {averages}</h4>\r\n        <div className=\"subpie\">\r\n          <Pie data={chartData} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"stats-page\">\r\n      <div>\r\n        <h2 className=\"text-center\" >Estadísticas globales de {user.email}</h2>\r\n        {user && <ExerciseStats data={data.total} />}\r\n      </div>\r\n\r\n      <div className=\"block-stats-container d-flex justify-content-center\">\r\n        <div className=\"block-stats-container-gray-container\">\r\n          <h2 className=\"text-center\">Estadísticas por bloque</h2>\r\n          {user && (\r\n            <BlockStatsRow\r\n              data1={data.exercises.BloqueI}\r\n              data2={data.exercises.BloqueII}\r\n              title1=\"Bloque I\"\r\n              title2=\"Bloque II\"\r\n            />\r\n          )}\r\n        </div>\r\n        <div className=\"block-stats-container-gray-container\">\r\n          {user && (\r\n            <BlockStatsRow\r\n              data1={data.exercises.BloqueIII}\r\n              data2={data.exercises.BloqueIV}\r\n              title1=\"Bloque III\"\r\n              title2=\"Bloque IV\"\r\n            />\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default StatsPage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}