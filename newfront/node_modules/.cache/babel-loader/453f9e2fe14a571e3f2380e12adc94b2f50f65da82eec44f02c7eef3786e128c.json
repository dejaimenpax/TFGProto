{"ast":null,"code":"import _slicedToArray from\"C:/Users/jaime/TFGProto/newfront/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import UserService from\"../../services/user.service\";import EventBus from\"../../common/EventBus\";import AuthService from\"../../services/auth.service\";import ConfigureExercises from\"./ConfigureExercises\";import SelectTopic from\"./SelectTopic\";import{Link}from\"react-router-dom\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Resolver=function Resolver(){var _useState=useState(undefined),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];useEffect(function(){UserService.getPublicContent().then(function(){setUser(AuthService.getCurrentUser);},function(error){if(error.response&&error.response.status===401){EventBus.dispatch(\"logout\");}});},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"header\",{className:\"jumbotron\",children:!user?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-center\",children:\"Para poder resolver los ejercicios, debes acceder con tu cuenta\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center justify-content-between \",children:[/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"btn btn-custom btn-lg\",children:\"Iniciar Sesi\\xF3n\"}),\"\\xA0\\xA0\\xA0\",/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"btn btn-custom btn-lg\",children:\"Registrarse\"})]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[user.roles.includes(\"ROLE_TEACHER\")?/*#__PURE__*/ //Si es profesor\n_jsx(\"p\",{className:\"text-center\",children:\"Como profesor, aqu\\xED podr\\xE1s ver el tipo de ejercicios a los que se enfrentar\\xE1n los alumnos.\"}):/*#__PURE__*/ //Si no lo es\n_jsx(\"p\",{className:\"text-center\",children:\"\\xA1Entrena el tipo de ejercicios que quieras! Podr\\xE1s elegir entre los distintos bloques del temario:\"}),/*#__PURE__*/_jsx(SelectTopic,{className:\"text-center\"}),user.roles.includes(\"ROLE_TEACHER\")?/*#__PURE__*/ //Si es profesor\n_jsx(ConfigureExercises,{className:\"text-center\"}):/*#__PURE__*/_jsx(_Fragment,{})]})})});};export default Resolver;","map":{"version":3,"names":["React","useState","useEffect","UserService","EventBus","AuthService","ConfigureExercises","SelectTopic","Link","Resolver","undefined","user","setUser","getPublicContent","then","getCurrentUser","error","response","status","dispatch","roles","includes"],"sources":["C:/Users/jaime/TFGProto/newfront/src/components/Exercises/Resolver.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n\r\nimport UserService from \"../../services/user.service\";\r\nimport EventBus from \"../../common/EventBus\";\r\nimport AuthService from \"../../services/auth.service\";\r\nimport ConfigureExercises from \"./ConfigureExercises\"\r\n\r\nimport SelectTopic from \"./SelectTopic\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Resolver = () => {\r\n  const [user, setUser] = useState(undefined);\r\n\r\n  useEffect(() => {\r\n    UserService.getPublicContent().then(\r\n      () => {\r\n        setUser(AuthService.getCurrentUser);\r\n      },\r\n      (error) => {\r\n        if (error.response && error.response.status === 401) {\r\n          EventBus.dispatch(\"logout\");\r\n        }\r\n      }\r\n    );\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <header className=\"jumbotron\">\r\n        {!user ? (\r\n          <>\r\n            <p className=\"text-center\">\r\n              Para poder resolver los ejercicios, debes acceder con tu cuenta\r\n            </p>\r\n            <div className=\"text-center justify-content-between \">\r\n              <Link to=\"/login\" className=\"btn btn-custom btn-lg\">\r\n                Iniciar Sesión\r\n              </Link>\r\n              &nbsp;&nbsp;&nbsp;\r\n              <Link to=\"/register\" className=\"btn btn-custom btn-lg\">\r\n                Registrarse\r\n              </Link>\r\n            </div>\r\n          </>\r\n        ) : (\r\n          <>\r\n            {user.roles.includes(\"ROLE_TEACHER\") ? ( //Si es profesor\r\n              <p className=\"text-center\">Como profesor, aquí podrás ver el tipo de \r\n              ejercicios a los que se enfrentarán los alumnos.</p>\r\n            ) : ( //Si no lo es\r\n              <p className=\"text-center\">\r\n                ¡Entrena el tipo de ejercicios que quieras! Podrás elegir entre\r\n                los distintos bloques del temario:\r\n              </p>\r\n            )}\r\n            <SelectTopic className=\"text-center\" />\r\n\r\n            {user.roles.includes(\"ROLE_TEACHER\") ? ( //Si es profesor\r\n              <ConfigureExercises className=\"text-center\" />\r\n            ) : (<></>)}\r\n\r\n\r\n\r\n          </>\r\n        )}\r\n      </header>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Resolver;\r\n"],"mappings":"sHAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAElD,MAAOC,YAAW,KAAM,6BAA6B,CACrD,MAAOC,SAAQ,KAAM,uBAAuB,CAC5C,MAAOC,YAAW,KAAM,6BAA6B,CACrD,MAAOC,mBAAkB,KAAM,sBAAsB,CAErD,MAAOC,YAAW,KAAM,eAAe,CACvC,OAASC,IAAI,KAAQ,kBAAkB,CAAC,6IAExC,GAAMC,SAAQ,CAAG,QAAXA,SAAQ,EAAS,CACrB,cAAwBR,QAAQ,CAACS,SAAS,CAAC,wCAApCC,IAAI,eAAEC,OAAO,eAEpBV,SAAS,CAAC,UAAM,CACdC,WAAW,CAACU,gBAAgB,EAAE,CAACC,IAAI,CACjC,UAAM,CACJF,OAAO,CAACP,WAAW,CAACU,cAAc,CAAC,CACrC,CAAC,CACD,SAACC,KAAK,CAAK,CACT,GAAIA,KAAK,CAACC,QAAQ,EAAID,KAAK,CAACC,QAAQ,CAACC,MAAM,GAAK,GAAG,CAAE,CACnDd,QAAQ,CAACe,QAAQ,CAAC,QAAQ,CAAC,CAC7B,CACF,CAAC,CACF,CACH,CAAC,CAAE,EAAE,CAAC,CAEN,mBACE,YAAK,SAAS,CAAC,WAAW,uBACxB,eAAQ,SAAS,CAAC,WAAW,UAC1B,CAACR,IAAI,cACJ,wCACE,UAAG,SAAS,CAAC,aAAa,UAAC,iEAE3B,EAAI,cACJ,aAAK,SAAS,CAAC,sCAAsC,wBACnD,KAAC,IAAI,EAAC,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,uBAAuB,UAAC,mBAEpD,EAAO,eAEP,mBAAC,IAAI,EAAC,EAAE,CAAC,WAAW,CAAC,SAAS,CAAC,uBAAuB,UAAC,aAEvD,EAAO,GACH,GACL,cAEH,2BACGA,IAAI,CAACS,KAAK,CAACC,QAAQ,CAAC,cAAc,CAAC,eAAK;AACvC,UAAG,SAAS,CAAC,aAAa,UAAC,qGACqB,EAAI,eAChD;AACJ,UAAG,SAAS,CAAC,aAAa,UAAC,0GAG3B,EACD,cACD,KAAC,WAAW,EAAC,SAAS,CAAC,aAAa,EAAG,CAEtCV,IAAI,CAACS,KAAK,CAACC,QAAQ,CAAC,cAAc,CAAC,eAAK;AACvC,KAAC,kBAAkB,EAAC,SAAS,CAAC,aAAa,EAAG,cAC3C,kBAAM,GAKd,EACM,EACL,CAEV,CAAC,CAED,cAAeZ,SAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}