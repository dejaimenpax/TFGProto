{"ast":null,"code":"import React from\"react\";import Input from\"react-validation/build/input\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var CrearUsuario=function CrearUsuario(props){var required=function required(value){if(!value){return/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",role:\"alert\",children:\"Es necesario seleccionar una opci\\xF3n.\"});}};var validUsername=function validUsername(value){if(value.length<6||value.length>40){return/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",role:\"alert\",children:\"El nombre de usuario debe tener entre 6 y 40 caracteres.\"});}};var vpassword=function vpassword(value){if(value.length<6||value.length>40){return/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",role:\"alert\",children:\"La contrase\\xF1a debe tener entre 6 y 40 caracteres.\"});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"generate-credentials\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Crear nuevo usuario\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Nombre de usuario:\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",className:\"form-control\",name:\"username\",value:props.newUser.username,onChange:props.handleNewUserChange,validations:[required,vpassword]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Contrase\\xF1a:\"}),/*#__PURE__*/_jsx(Input,{type:\"password\",className:\"form-control\",name:\"password\",value:props.newUser.password,onChange:props.handleNewUserChange,validations:[required,validUsername]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Rol:\"}),/*#__PURE__*/_jsx(\"select\",{className:\"form-control\",name:\"role\",value:props.newUser.role,onChange:props.handleRoleChange,disabled:props.user.username===props.user.teacher// Deshabilita todo el selector si lo invoca un profesor\n,children:props.user.username===props.user.teacher?/*#__PURE__*/ // Si es profesor, solo puede crear alumnos\n_jsx(\"option\",{value:\"user\",children:\"Alumno\"}):/*#__PURE__*/ // Si A no es igual a B, mostrar todas las opciones\n_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,children:\"Selecciona una opci\\xF3n...\"}),/*#__PURE__*/_jsx(\"option\",{value:\"user\",children:\"Alumno\"}),/*#__PURE__*/_jsx(\"option\",{value:\"teacher\",children:\"Profesor\"})]})})]}),props.showTeacherSelector&&/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Profesor asociado:\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-control\",name:\"teacher\",value:props.newUser.teacher,onChange:props.handleNewUserChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,selected:true,children:\"Selecciona una opci\\xF3n...\"}),props.teachers.map(function(teacher,index){return/*#__PURE__*/_jsx(\"option\",{value:teacher,children:teacher},index);})]})]}),/*#__PURE__*/_jsx(\"p\",{className:props.generalErrorMessage?\"alert alert-danger\":\"hide\",children:props.generalErrorMessage}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-custom\",onClick:props.createUser,children:\"Crear usuario\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-danger special-margin\",onClick:props.handleCreateUserModalClose,children:\"Volver a gesti\\xF3n\"}),props.registerMessage!==\"\"&&/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"div\",{className:props.successfulRegister?\"text-center alert alert-success\":\"text-center alert alert-danger\",role:\"alert\",children:props.registerMessage})})]});};export default CrearUsuario;","map":{"version":3,"names":["React","Input","CrearUsuario","props","required","value","validUsername","length","vpassword","newUser","username","handleNewUserChange","password","role","handleRoleChange","user","teacher","showTeacherSelector","teachers","map","index","generalErrorMessage","createUser","handleCreateUserModalClose","registerMessage","successfulRegister"],"sources":["C:/Users/jaime/TFGProto/newfront/src/components/UserBoards/Gestion/CrearUsuario.js"],"sourcesContent":["import React from \"react\";\r\nimport Input from \"react-validation/build/input\";\r\n\r\nconst CrearUsuario = (props) => {\r\n\r\n    const required = (value) => {\r\n      if (!value) {\r\n        return (\r\n          <div className=\"alert alert-danger\" role=\"alert\">\r\n            Es necesario seleccionar una opción.\r\n          </div>\r\n        );\r\n      }\r\n    };\r\n\r\n    const validUsername = (value) => {\r\n      if (value.length < 6 || value.length > 40) {\r\n        return (\r\n          <div className=\"alert alert-danger\" role=\"alert\">\r\n            El nombre de usuario debe tener entre 6 y 40 caracteres.\r\n          </div>\r\n        );\r\n      }\r\n    };\r\n    \r\n    const vpassword = (value) => {\r\n      if (value.length < 6 || value.length > 40) {\r\n        return (\r\n          <div className=\"alert alert-danger\" role=\"alert\">\r\n            La contraseña debe tener entre 6 y 40 caracteres.\r\n          </div>\r\n        );\r\n      }\r\n    };\r\n\r\n    return (\r\n        <div className=\"generate-credentials\">\r\n            <h4>Crear nuevo usuario</h4>\r\n            <div className=\"form-group\">\r\n              <label>Nombre de usuario:</label>\r\n              <Input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                name=\"username\"\r\n                value={props.newUser.username}\r\n                onChange={props.handleNewUserChange}\r\n                validations={[required, vpassword]}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label>Contraseña:</label>\r\n              <Input\r\n                type=\"password\"\r\n                className=\"form-control\"\r\n                name=\"password\"\r\n                value={props.newUser.password}\r\n                onChange={props.handleNewUserChange}\r\n                validations={[required, validUsername]}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label>Rol:</label>\r\n              <select\r\n                className=\"form-control\"\r\n                name=\"role\"\r\n                value={props.newUser.role}\r\n                onChange={props.handleRoleChange}\r\n                disabled={props.user.username === props.user.teacher} // Deshabilita todo el selector si lo invoca un profesor\r\n              >\r\n                {props.user.username === props.user.teacher ? ( // Si es profesor, solo puede crear alumnos\r\n                  <option value=\"user\">Alumno</option>\r\n                ) : (\r\n                  // Si A no es igual a B, mostrar todas las opciones\r\n                  <>\r\n                    <option value=\"\" disabled>\r\n                      Selecciona una opción...\r\n                    </option>\r\n                    <option value=\"user\">Alumno</option>\r\n                    <option value=\"teacher\">Profesor</option>\r\n                  </>\r\n                )}\r\n              </select>\r\n            </div>\r\n\r\n            {props.showTeacherSelector && (\r\n            <div className=\"form-group\">\r\n              <label>Profesor asociado:</label>\r\n              <select\r\n                className=\"form-control\"\r\n                name=\"teacher\"\r\n                value={props.newUser.teacher}\r\n                onChange={props.handleNewUserChange}\r\n              >\r\n                  <option value=\"\" disabled selected>\r\n                    Selecciona una opción...\r\n                  </option>\r\n                {props.teachers.map((teacher, index) => (\r\n                  <option key={index} value={teacher}>\r\n                    {teacher}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n            )}\r\n            <p className={props.generalErrorMessage ? \"alert alert-danger\" : \"hide\"}>\r\n              {props.generalErrorMessage}\r\n            </p>\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-custom\"\r\n              onClick={props.createUser}\r\n            >\r\n              Crear usuario\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-danger special-margin\"\r\n              onClick={props.handleCreateUserModalClose}\r\n            >\r\n              Volver a gestión\r\n            </button>\r\n\r\n            {props.registerMessage!==\"\" && (\r\n            <div className=\"form-group\">\r\n              <div\r\n                className={props.successfulRegister ? \"text-center alert alert-success\" : \"text-center alert alert-danger\"}\r\n                role=\"alert\"\r\n              >\r\n                {props.registerMessage}\r\n              </div>\r\n            </div>\r\n            )}\r\n        </div>\r\n\r\n    );\r\n};\r\n\r\nexport default CrearUsuario;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}