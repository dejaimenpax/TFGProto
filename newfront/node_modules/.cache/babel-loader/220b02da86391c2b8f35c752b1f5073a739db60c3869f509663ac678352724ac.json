{"ast":null,"code":"import _slicedToArray from\"C:/Users/jaime/TFGProto/newfront/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import AuthService from\"../../../services/auth.service\";import EventBus from\"../../../common/EventBus\";import StatsPage from\"../StatsPage\";import{jsx as _jsx}from\"react/jsx-runtime\";var BoardUser=function BoardUser(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),content=_useState2[0],setContent=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),user=_useState4[0],setUser=_useState4[1];useEffect(function(){AuthService.getCurrentUserFromDB().then(function(response){setUser(response.data);}).catch(function(error){var _content=error.response&&error.response.data&&error.response.data.message||error.message||error.toString();setContent(_content);if(error.response&&error.response.status===401){EventBus.dispatch(\"logout\");}});},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"header\",{className:\"jumbotron\",children:user?/*#__PURE__*/_jsx(StatsPage,{user:user}):/*#__PURE__*/_jsx(\"h3\",{children:content})})});};export default BoardUser;","map":{"version":3,"names":["React","useState","useEffect","AuthService","EventBus","StatsPage","BoardUser","content","setContent","user","setUser","getCurrentUserFromDB","then","response","data","catch","error","_content","message","toString","status","dispatch"],"sources":["C:/Users/jaime/TFGProto/newfront/src/components/UserBoards/User/BoardUser.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n\r\nimport AuthService from \"../../../services/auth.service\";\r\nimport EventBus from \"../../../common/EventBus\";\r\nimport StatsPage from \"../StatsPage\";\r\n\r\nconst BoardUser = () => {\r\n  const [content, setContent] = useState();\r\n  const [user, setUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    AuthService.getCurrentUserFromDB()\r\n      .then((response) => {\r\n        setUser(response.data);\r\n      })\r\n      .catch((error) => {\r\n        const _content =\r\n          (error.response &&\r\n            error.response.data &&\r\n            error.response.data.message) ||\r\n          error.message ||\r\n          error.toString();\r\n\r\n        setContent(_content);\r\n\r\n        if (error.response && error.response.status === 401) {\r\n          EventBus.dispatch(\"logout\");\r\n        }\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <header className=\"jumbotron\">\r\n        {user ? <StatsPage user={user} /> : <h3>{content}</h3>}\r\n      </header>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BoardUser;"],"mappings":"sHAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAElD,MAAOC,YAAW,KAAM,gCAAgC,CACxD,MAAOC,SAAQ,KAAM,0BAA0B,CAC/C,MAAOC,UAAS,KAAM,cAAc,CAAC,2CAErC,GAAMC,UAAS,CAAG,QAAZA,UAAS,EAAS,CACtB,cAA8BL,QAAQ,EAAE,wCAAjCM,OAAO,eAAEC,UAAU,eAC1B,eAAwBP,QAAQ,CAAC,IAAI,CAAC,yCAA/BQ,IAAI,eAAEC,OAAO,eAEpBR,SAAS,CAAC,UAAM,CACdC,WAAW,CAACQ,oBAAoB,EAAE,CAC/BC,IAAI,CAAC,SAACC,QAAQ,CAAK,CAClBH,OAAO,CAACG,QAAQ,CAACC,IAAI,CAAC,CACxB,CAAC,CAAC,CACDC,KAAK,CAAC,SAACC,KAAK,CAAK,CAChB,GAAMC,SAAQ,CACXD,KAAK,CAACH,QAAQ,EACbG,KAAK,CAACH,QAAQ,CAACC,IAAI,EACnBE,KAAK,CAACH,QAAQ,CAACC,IAAI,CAACI,OAAO,EAC7BF,KAAK,CAACE,OAAO,EACbF,KAAK,CAACG,QAAQ,EAAE,CAElBX,UAAU,CAACS,QAAQ,CAAC,CAEpB,GAAID,KAAK,CAACH,QAAQ,EAAIG,KAAK,CAACH,QAAQ,CAACO,MAAM,GAAK,GAAG,CAAE,CACnDhB,QAAQ,CAACiB,QAAQ,CAAC,QAAQ,CAAC,CAC7B,CACF,CAAC,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAEN,mBACE,YAAK,SAAS,CAAC,WAAW,uBACxB,eAAQ,SAAS,CAAC,WAAW,UAC1BZ,IAAI,cAAG,KAAC,SAAS,EAAC,IAAI,CAAEA,IAAK,EAAG,cAAG,oBAAKF,OAAO,EAAM,EAC/C,EACL,CAEV,CAAC,CAED,cAAeD,UAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}