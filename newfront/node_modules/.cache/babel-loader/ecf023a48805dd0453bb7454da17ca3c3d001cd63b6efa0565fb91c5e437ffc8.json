{"ast":null,"code":"import _slicedToArray from\"C:/Users/jaime/TFGProto/newfront/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import UserService from\"../../services/user.service\";import EventBus from\"../../common/EventBus\";import Email from\"./Email\";import Roles from\"./Roles\";import\"../../styles/Profile/Profile.css\";import AuthService from\"../../services/auth.service\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Profile=function Profile(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),content=_useState2[0],setContent=_useState2[1];var currentUser=AuthService.getCurrentUser();useEffect(function(){UserService.getUserBoard().then(function(response){setContent(\"Logged\");},function(error){var _content=error.response&&error.response.data&&error.response.data.message||error.message||error.toString();setContent(_content);if(error.response&&error.response.status===401){EventBus.dispatch(\"logout\");}});},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"header\",{className:\"jumbotron\",children:content===\"Logged\"?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Email,{email:currentUser.email}),/*#__PURE__*/_jsx(Roles,{roles:currentUser.roles})]}):/*#__PURE__*/_jsx(_Fragment,{children:content})})});};export default Profile;","map":{"version":3,"names":["React","useState","useEffect","UserService","EventBus","Email","Roles","AuthService","Profile","content","setContent","currentUser","getCurrentUser","getUserBoard","then","response","error","_content","data","message","toString","status","dispatch","email","roles"],"sources":["C:/Users/jaime/TFGProto/newfront/src/components/Profile/Profile.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nimport UserService from \"../../services/user.service\";\nimport EventBus from \"../../common/EventBus\";\nimport Email from \"./Email\";\nimport Roles from \"./Roles\";\nimport \"../../styles/Profile/Profile.css\";\nimport AuthService from \"../../services/auth.service\";\n\nconst Profile = () => {\n  const [content, setContent] = useState();\n  const currentUser = AuthService.getCurrentUser();\n\n  useEffect(() => {\n    UserService.getUserBoard().then(\n      (response) => {\n        setContent(\"Logged\");\n      },\n      (error) => {\n        const _content =\n          (error.response &&\n            error.response.data &&\n            error.response.data.message) ||\n          error.message ||\n          error.toString();\n\n        setContent(_content);\n\n        if (error.response && error.response.status === 401) {\n          EventBus.dispatch(\"logout\");\n        }\n      }\n    );\n  }, []);\n\n  return (\n    <div className=\"container\">\n      <header className=\"jumbotron\">\n        {content===\"Logged\" ? \n          <>\n            <Email email={currentUser.email} />\n            <Roles roles={currentUser.roles} />\n          </>\n        : \n          <>{content}</>\n        }\n      </header>\n    </div>\n  );\n};\n\nexport default Profile;"],"mappings":"sHAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAElD,MAAOC,YAAW,KAAM,6BAA6B,CACrD,MAAOC,SAAQ,KAAM,uBAAuB,CAC5C,MAAOC,MAAK,KAAM,SAAS,CAC3B,MAAOC,MAAK,KAAM,SAAS,CAC3B,MAAO,kCAAkC,CACzC,MAAOC,YAAW,KAAM,6BAA6B,CAAC,6IAEtD,GAAMC,QAAO,CAAG,QAAVA,QAAO,EAAS,CACpB,cAA8BP,QAAQ,EAAE,wCAAjCQ,OAAO,eAAEC,UAAU,eAC1B,GAAMC,YAAW,CAAGJ,WAAW,CAACK,cAAc,EAAE,CAEhDV,SAAS,CAAC,UAAM,CACdC,WAAW,CAACU,YAAY,EAAE,CAACC,IAAI,CAC7B,SAACC,QAAQ,CAAK,CACZL,UAAU,CAAC,QAAQ,CAAC,CACtB,CAAC,CACD,SAACM,KAAK,CAAK,CACT,GAAMC,SAAQ,CACXD,KAAK,CAACD,QAAQ,EACbC,KAAK,CAACD,QAAQ,CAACG,IAAI,EACnBF,KAAK,CAACD,QAAQ,CAACG,IAAI,CAACC,OAAO,EAC7BH,KAAK,CAACG,OAAO,EACbH,KAAK,CAACI,QAAQ,EAAE,CAElBV,UAAU,CAACO,QAAQ,CAAC,CAEpB,GAAID,KAAK,CAACD,QAAQ,EAAIC,KAAK,CAACD,QAAQ,CAACM,MAAM,GAAK,GAAG,CAAE,CACnDjB,QAAQ,CAACkB,QAAQ,CAAC,QAAQ,CAAC,CAC7B,CACF,CAAC,CACF,CACH,CAAC,CAAE,EAAE,CAAC,CAEN,mBACE,YAAK,SAAS,CAAC,WAAW,uBACxB,eAAQ,SAAS,CAAC,WAAW,UAC1Bb,OAAO,GAAG,QAAQ,cACjB,wCACE,KAAC,KAAK,EAAC,KAAK,CAAEE,WAAW,CAACY,KAAM,EAAG,cACnC,KAAC,KAAK,EAAC,KAAK,CAAEZ,WAAW,CAACa,KAAM,EAAG,GAClC,cAEH,yBAAGf,OAAO,EAAI,EAET,EACL,CAEV,CAAC,CAED,cAAeD,QAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}