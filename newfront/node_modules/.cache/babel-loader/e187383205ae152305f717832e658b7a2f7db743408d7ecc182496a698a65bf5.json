{"ast":null,"code":"import _slicedToArray from\"C:/Users/jaime/TFGProto/newfront/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import AuthService from\"../../services/auth.service\";import StatsPage from\"./StatsPage\";import\"../../styles/UserBoards/SearchStudents.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SearchStudents=function SearchStudents(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),searchTerm=_useState2[0],setSearchTerm=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),students=_useState4[0],setStudents=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),selectedStudent=_useState6[0],setSelectedStudent=_useState6[1];useEffect(function(){fetchStudents();},[]);var fetchStudents=function fetchStudents(){AuthService.getMyStudents().then(function(response){setStudents(response.data);}).catch(function(error){console.log(error);});};var handleSearchTermChange=function handleSearchTermChange(e){setSearchTerm(e.target.value);};var filterStudents=function filterStudents(){return students.filter(function(student){return student.username.includes(searchTerm.toLowerCase());});};var handleStudentSelect=function handleStudentSelect(e,student){e.preventDefault();setSelectedStudent(student);console.log(selectedStudent);// Hacer scroll hacia las estadísticas del alumno\nvar statsSection=document.getElementById(\"stats-section\");if(statsSection){var yOffset=statsSection.getBoundingClientRect().top+window.pageYOffset;window.scrollTo({top:yOffset,behavior:\"smooth\"});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"search-students\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-center mt-4\",children:\"Estad\\xEDsticas de alumnos\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control mb-3\",placeholder:\"Buscar alumnos...\",value:searchTerm,onChange:handleSearchTermChange}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-group\",children:filterStudents().map(function(student){return/*#__PURE__*/_jsx(\"li\",{className:\"list-group-item\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-link\",onClick:function onClick(e){return handleStudentSelect(e,student);},children:student.username})},student._id);})}),/*#__PURE__*/_jsx(\"div\",{id:\"stats-section\",children:selectedStudent&&/*#__PURE__*/_jsx(StatsPage,{user:selectedStudent})})]});};export default SearchStudents;","map":{"version":3,"names":["React","useState","useEffect","AuthService","StatsPage","SearchStudents","searchTerm","setSearchTerm","students","setStudents","selectedStudent","setSelectedStudent","fetchStudents","getMyStudents","then","response","data","catch","error","console","log","handleSearchTermChange","e","target","value","filterStudents","filter","student","username","includes","toLowerCase","handleStudentSelect","preventDefault","statsSection","document","getElementById","yOffset","getBoundingClientRect","top","window","pageYOffset","scrollTo","behavior","map","_id"],"sources":["C:/Users/jaime/TFGProto/newfront/src/components/UserBoards/SearchStudents.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport AuthService from \"../../services/auth.service\";\r\nimport StatsPage from \"./StatsPage\";\r\nimport \"../../styles/UserBoards/SearchStudents.css\";\r\n\r\nconst SearchStudents = () => {\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [students, setStudents] = useState([]);\r\n  const [selectedStudent, setSelectedStudent] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchStudents();\r\n  }, []);\r\n\r\n  const fetchStudents = () => {\r\n    AuthService.getMyStudents()\r\n      .then((response) => {\r\n        setStudents(response.data);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  const handleSearchTermChange = (e) => {\r\n    setSearchTerm(e.target.value);\r\n  };\r\n\r\n  const filterStudents = () => {\r\n    return students.filter((student) =>\r\n      student.username.includes(searchTerm.toLowerCase())\r\n    );\r\n  };\r\n\r\n  const handleStudentSelect = (e, student) => {\r\n    e.preventDefault();\r\n    setSelectedStudent(student);\r\n    console.log(selectedStudent);\r\n\r\n    // Hacer scroll hacia las estadísticas del alumno\r\n    const statsSection = document.getElementById(\"stats-section\");\r\n    if (statsSection) {\r\n      const yOffset = statsSection.getBoundingClientRect().top + window.pageYOffset;\r\n      window.scrollTo({ top: yOffset, behavior: \"smooth\" });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"search-students\">\r\n      <h3 className=\"text-center mt-4\">Estadísticas de alumnos</h3>\r\n      <input\r\n        type=\"text\"\r\n        className=\"form-control mb-3\"\r\n        placeholder=\"Buscar alumnos...\"\r\n        value={searchTerm}\r\n        onChange={handleSearchTermChange}\r\n      />\r\n      <ul className=\"list-group\">\r\n        {filterStudents().map((student) => (\r\n          <li key={student._id} className=\"list-group-item\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-link\"\r\n              onClick={(e) => handleStudentSelect(e, student)}\r\n            >\r\n              {student.username}\r\n            </button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n      <div id=\"stats-section\">\r\n        {selectedStudent && <StatsPage user={selectedStudent} />}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchStudents;\r\n"],"mappings":"sHAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAOC,YAAW,KAAM,6BAA6B,CACrD,MAAOC,UAAS,KAAM,aAAa,CACnC,MAAO,4CAA4C,CAAC,wFAEpD,GAAMC,eAAc,CAAG,QAAjBA,eAAc,EAAS,CAC3B,cAAoCJ,QAAQ,CAAC,EAAE,CAAC,wCAAzCK,UAAU,eAAEC,aAAa,eAChC,eAAgCN,QAAQ,CAAC,EAAE,CAAC,yCAArCO,QAAQ,eAAEC,WAAW,eAC5B,eAA8CR,QAAQ,CAAC,IAAI,CAAC,yCAArDS,eAAe,eAAEC,kBAAkB,eAE1CT,SAAS,CAAC,UAAM,CACdU,aAAa,EAAE,CACjB,CAAC,CAAE,EAAE,CAAC,CAEN,GAAMA,cAAa,CAAG,QAAhBA,cAAa,EAAS,CAC1BT,WAAW,CAACU,aAAa,EAAE,CACxBC,IAAI,CAAC,SAACC,QAAQ,CAAK,CAClBN,WAAW,CAACM,QAAQ,CAACC,IAAI,CAAC,CAC5B,CAAC,CAAC,CACDC,KAAK,CAAC,SAACC,KAAK,CAAK,CAChBC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CACpB,CAAC,CAAC,CACN,CAAC,CAED,GAAMG,uBAAsB,CAAG,QAAzBA,uBAAsB,CAAIC,CAAC,CAAK,CACpCf,aAAa,CAACe,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAC/B,CAAC,CAED,GAAMC,eAAc,CAAG,QAAjBA,eAAc,EAAS,CAC3B,MAAOjB,SAAQ,CAACkB,MAAM,CAAC,SAACC,OAAO,QAC7BA,QAAO,CAACC,QAAQ,CAACC,QAAQ,CAACvB,UAAU,CAACwB,WAAW,EAAE,CAAC,GACpD,CACH,CAAC,CAED,GAAMC,oBAAmB,CAAG,QAAtBA,oBAAmB,CAAIT,CAAC,CAAEK,OAAO,CAAK,CAC1CL,CAAC,CAACU,cAAc,EAAE,CAClBrB,kBAAkB,CAACgB,OAAO,CAAC,CAC3BR,OAAO,CAACC,GAAG,CAACV,eAAe,CAAC,CAE5B;AACA,GAAMuB,aAAY,CAAGC,QAAQ,CAACC,cAAc,CAAC,eAAe,CAAC,CAC7D,GAAIF,YAAY,CAAE,CAChB,GAAMG,QAAO,CAAGH,YAAY,CAACI,qBAAqB,EAAE,CAACC,GAAG,CAAGC,MAAM,CAACC,WAAW,CAC7ED,MAAM,CAACE,QAAQ,CAAC,CAAEH,GAAG,CAAEF,OAAO,CAAEM,QAAQ,CAAE,QAAS,CAAC,CAAC,CACvD,CACF,CAAC,CAED,mBACE,aAAK,SAAS,CAAC,iBAAiB,wBAC9B,WAAI,SAAS,CAAC,kBAAkB,UAAC,4BAAuB,EAAK,cAC7D,cACE,IAAI,CAAC,MAAM,CACX,SAAS,CAAC,mBAAmB,CAC7B,WAAW,CAAC,mBAAmB,CAC/B,KAAK,CAAEpC,UAAW,CAClB,QAAQ,CAAEe,sBAAuB,EACjC,cACF,WAAI,SAAS,CAAC,YAAY,UACvBI,cAAc,EAAE,CAACkB,GAAG,CAAC,SAAChB,OAAO,qBAC5B,WAAsB,SAAS,CAAC,iBAAiB,uBAC/C,eACE,IAAI,CAAC,QAAQ,CACb,SAAS,CAAC,cAAc,CACxB,OAAO,CAAE,iBAACL,CAAC,QAAKS,oBAAmB,CAACT,CAAC,CAAEK,OAAO,CAAC,EAAC,UAE/CA,OAAO,CAACC,QAAQ,EACV,EAPFD,OAAO,CAACiB,GAAG,CAQf,EACN,CAAC,EACC,cACL,YAAK,EAAE,CAAC,eAAe,UACpBlC,eAAe,eAAI,KAAC,SAAS,EAAC,IAAI,CAAEA,eAAgB,EAAG,EACpD,GACF,CAEV,CAAC,CAED,cAAeL,eAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}