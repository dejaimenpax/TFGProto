{"ast":null,"code":"import axios from\"axios\";import authHeader from\"./auth-header\";var API_URL=\"/api/gestion/\";var getCurrentUser=function getCurrentUser(){return JSON.parse(localStorage.getItem(\"user\"));};var deleteAccountByUsername=function deleteAccountByUsername(username){console.log(\"Entra al deleteAccountByUsername\");var user=getCurrentUser();if(user&&user.accessToken){return axios.delete(API_URL+\"delete-account-byUsername\",{headers:authHeader(),data:{username:username}}).then(function(response){return response.data;}).catch(function(error){console.error(\"Error borrando la cuenta:\",error);throw error;});}else{return Promise.reject(new Error(\"Usuario no encontrado o token expirado.\"));}};var getUsersExceptAdmins=function getUsersExceptAdmins(username){console.log(\"Entra al getUsersExceptAdmins\");return axios.get(API_URL+\"getUsersExceptAdmins\",{headers:authHeader(),params:{username:username}// Send the username as a query parameter \n});};var getListElement=function getListElement(username){return axios.get(API_URL+\"getListElement\",{headers:authHeader(),params:{username:username}// Send the username as a query parameter\n});};var getTeachers=function getTeachers(username){return axios.get(API_URL+\"getTeachers\",{headers:authHeader(),params:{username:username}// Send the username as a query parameter\n});};var eraseUserStats=function eraseUserStats(username){return axios.post(API_URL+\"eraseUserStats\",{username:username},{headers:authHeader()});};var restorePassword=function restorePassword(username){return axios.post(API_URL+\"restorePassword\",{username:username},{headers:authHeader()});};var GestionService={getUsersExceptAdmins:getUsersExceptAdmins,deleteAccountByUsername:deleteAccountByUsername,getListElement:getListElement,eraseUserStats:eraseUserStats,getTeachers:getTeachers,restorePassword:restorePassword};export default GestionService;","map":{"version":3,"names":["axios","authHeader","API_URL","getCurrentUser","JSON","parse","localStorage","getItem","deleteAccountByUsername","username","console","log","user","accessToken","delete","headers","data","then","response","catch","error","Promise","reject","Error","getUsersExceptAdmins","get","params","getListElement","getTeachers","eraseUserStats","post","restorePassword","GestionService"],"sources":["C:/Users/jaime/TFGProto/newfront/src/services/gestion.service.js"],"sourcesContent":["import axios from \"axios\";\r\nimport authHeader from \"./auth-header\";\r\n\r\nconst API_URL = \"/api/gestion/\";\r\n\r\nconst getCurrentUser = () => {\r\n  return JSON.parse(localStorage.getItem(\"user\"));\r\n};\r\n\r\n\r\nconst deleteAccountByUsername = (username) => {\r\n  console.log(\"Entra al deleteAccountByUsername\")\r\n  const user = getCurrentUser();\r\n  if (user && user.accessToken) {\r\n    return axios\r\n      .delete(API_URL + \"delete-account-byUsername\", {\r\n        headers: authHeader(),\r\n        data: { username },\r\n      })\r\n      .then((response) => {\r\n        return response.data;\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error borrando la cuenta:\", error);\r\n        throw error;\r\n      });\r\n  } else {\r\n    return Promise.reject(new Error(\"Usuario no encontrado o token expirado.\"));\r\n  }\r\n};\r\n\r\nconst getUsersExceptAdmins = (username) => {\r\n  console.log(\"Entra al getUsersExceptAdmins\")\r\n  return axios.get(API_URL + \"getUsersExceptAdmins\", { \r\n    headers: authHeader(),\r\n    params: { username }, // Send the username as a query parameter \r\n  });\r\n};\r\n\r\n\r\nconst getListElement = (username) => {\r\n  return axios.get(API_URL + \"getListElement\", {\r\n    headers: authHeader(),\r\n    params: { username }, // Send the username as a query parameter\r\n  });\r\n};\r\n\r\nconst getTeachers = (username) => {\r\n  return axios.get(API_URL + \"getTeachers\", {\r\n    headers: authHeader(),\r\n    params: { username }, // Send the username as a query parameter\r\n  });\r\n}\r\n\r\nconst eraseUserStats = (username) => {\r\n  return axios.post(API_URL + \"eraseUserStats\", {username} , {\r\n    headers: authHeader()\r\n  })\r\n}\r\n\r\nconst restorePassword = (username) => {\r\n  return axios.post(API_URL + \"restorePassword\", {username} , {\r\n    headers: authHeader()\r\n  })\r\n}\r\n\r\nconst GestionService = {\r\n  getUsersExceptAdmins,\r\n  deleteAccountByUsername,\r\n  getListElement,\r\n  eraseUserStats,\r\n  getTeachers,\r\n  restorePassword,\r\n};\r\n\r\nexport default GestionService;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}