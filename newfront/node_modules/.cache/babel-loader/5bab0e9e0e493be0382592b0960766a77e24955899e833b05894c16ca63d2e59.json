{"ast":null,"code":"import _objectSpread from\"C:/Users/jaime/TFGProto/newfront/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/jaime/TFGProto/newfront/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import ExerciseService from\"../../services/exercise.service\";import'../../styles/Exercises/ConfigureExercises.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ConfigureExercises=function ConfigureExercises(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),exercises=_useState2[0],setExercises=_useState2[1];useEffect(function(){ExerciseService.getAllExercises().then(function(response){setExercises(response.data);}).catch(function(error){return console.error(\"Error loading exercises:\",error);});},[]);var handleExerciseVisibilityChange=function handleExerciseVisibilityChange(exerciseId,newVisibility){var updatedExercises=exercises.map(function(exercise){if(exercise._id===exerciseId){return _objectSpread(_objectSpread({},exercise),{},{flag_active:newVisibility});}return exercise;});setExercises(updatedExercises);};var handleSaveChanges=function handleSaveChanges(){ExerciseService.updateExercisesVisibility(exercises).then(function(response){// Optionally, update the 'exercises' state with the response from the backend\nsetExercises(response.data);}).catch(function(error){return console.error(\"Error updating exercise visibility:\",error);});};// Group exercises by their block (id_tema)\nvar groupedExercises=exercises.reduce(function(grouped,exercise){var block=exercise.id_tema.toString()[0];if(!grouped[block]){grouped[block]=[];}grouped[block].push(exercise);return grouped;},{});return/*#__PURE__*/_jsxs(\"div\",{clasName:\"text-center\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Configurar Visibilidad de Ejercicios\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container-columna\",children:Object.entries(groupedExercises).map(function(_ref){var _ref2=_slicedToArray(_ref,2),block=_ref2[0],blockExercises=_ref2[1];return/*#__PURE__*/_jsxs(\"div\",{className:\"block-container\",children:[\" \",/*#__PURE__*/_jsxs(\"h3\",{children:[\"Bloque \",block]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-check\",children:blockExercises.map(function(exercise){return/*#__PURE__*/_jsxs(\"div\",{className:\"form-check\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:exercise.flag_active,onChange:function onChange(e){return handleExerciseVisibilityChange(exercise._id,e.target.checked);}}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",children:exercise.name})]},exercise._id);})})]},block);})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSaveChanges,className:\"btn btn-custom\",children:\"Guardar cambios\"})]});};export default ConfigureExercises;","map":{"version":3,"names":["React","useState","useEffect","ExerciseService","ConfigureExercises","exercises","setExercises","getAllExercises","then","response","data","catch","error","console","handleExerciseVisibilityChange","exerciseId","newVisibility","updatedExercises","map","exercise","_id","flag_active","handleSaveChanges","updateExercisesVisibility","groupedExercises","reduce","grouped","block","id_tema","toString","push","Object","entries","blockExercises","e","target","checked","name"],"sources":["C:/Users/jaime/TFGProto/newfront/src/components/Exercises/ConfigureExercises.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport ExerciseService from \"../../services/exercise.service\";\r\nimport '../../styles/Exercises/ConfigureExercises.css';\r\n\r\nconst ConfigureExercises = () => {\r\n  const [exercises, setExercises] = useState([]);\r\n\r\n  useEffect(() => {\r\n    ExerciseService.getAllExercises()\r\n      .then((response) => {\r\n        setExercises(response.data);\r\n      })\r\n      .catch((error) => console.error(\"Error loading exercises:\", error));\r\n  }, []);\r\n\r\n  const handleExerciseVisibilityChange = (exerciseId, newVisibility) => {\r\n    const updatedExercises = exercises.map((exercise) => {\r\n      if (exercise._id === exerciseId) {\r\n        return { ...exercise, flag_active: newVisibility };\r\n      }\r\n      return exercise;\r\n    });\r\n    setExercises(updatedExercises);\r\n  };\r\n\r\n  const handleSaveChanges = () => {\r\n    ExerciseService.updateExercisesVisibility(exercises)\r\n      .then((response) => {\r\n        // Optionally, update the 'exercises' state with the response from the backend\r\n        setExercises(response.data);\r\n      })\r\n      .catch((error) => console.error(\"Error updating exercise visibility:\", error));\r\n  };\r\n\r\n  // Group exercises by their block (id_tema)\r\n  const groupedExercises = exercises.reduce((grouped, exercise) => {\r\n    const block = exercise.id_tema.toString()[0];\r\n    if (!grouped[block]) {\r\n      grouped[block] = [];\r\n    }\r\n    grouped[block].push(exercise);\r\n    return grouped;\r\n  }, {});\r\n\r\n  return (\r\n    <div clasName = \"text-center\">\r\n      <h1>Configurar Visibilidad de Ejercicios</h1>\r\n      <div className=\"container-columna\">\r\n        {Object.entries(groupedExercises).map(([block, blockExercises]) => (\r\n          <div key={block} className=\"block-container\"> {/* Agrega la clase 'block-container' para cada bloque */}\r\n            <h3>Bloque {block}</h3>\r\n            <div className=\"form-check\">\r\n              {blockExercises.map((exercise) => (\r\n                <div key={exercise._id} className=\"form-check\">\r\n                  <input\r\n                    className=\"form-check-input\"\r\n                    type=\"checkbox\"\r\n                    checked={exercise.flag_active}\r\n                    onChange={(e) => handleExerciseVisibilityChange(exercise._id, e.target.checked)}\r\n                  />\r\n                  <label className=\"form-check-label\">{exercise.name}</label>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <button onClick={handleSaveChanges} className=\"btn btn-custom\">Guardar cambios</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ConfigureExercises;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}